<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tempat Wisata Desa Sanggu</title>

  <!-- Leaflet CSS & JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Leaflet Search Plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-search@2.9.8/dist/leaflet-search.min.css" />
  <script src="https://unpkg.com/leaflet-search@2.9.8/dist/leaflet-search.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    header {
      background-color: #e5c39d;
      text-align: center;
      padding: 20px 10px;
      font-size: 24px;
      font-weight: bold;
      border-bottom: 2px solid #000;
    }

    #map {
      height: 92vh;
      width: 100%;
    }

    .popup-justify {
      text-align: justify;
    }

    .leaflet-control-search {
      margin-top: 80px !important;
      z-index: 1000;
    }
  </style>
</head>
<body>

  <header>Tempat Wisata Desa Sanggu</header>
  <div id="map"></div>

  <script>
    // Basemaps
    var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    });

    var esriSat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri'
    });

    var esriTopo = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri'
    });

    // Inisialisasi peta
    var map = L.map('map', {
      center: [-1.67044, 114.90530],
      zoom: 14,
      layers: [osm]
    });

    // Layer kontrol basemap
    var baseMaps = {
      "OpenStreetMap": osm,
      "Esri Satelit": esriSat,
      "Esri Topographic": esriTopo
    };
    L.control.layers(baseMaps).addTo(map);

    // Data lokasi wisata
    var lokasi = [
      {
        koordinat: [-1.666007, 114.893982],
        title: "Danau Sanggu",
        popup: `
          <h3>Danau Sanggu</h3>
          <img src='./foto/Danau Sanggu.jpeg' style='width:150px'>
          <p class='popup-justify'>Danau Sanggu.</p>`
      },
      {
        koordinat: [-1.687491, 114.890469],
        title: "Danau Malawen",
        popup: `
          <h3>Danau Malawen</h3>
          <img src='./foto/Danau Malawen.jpg' style='width:150px'>
          <p class='popup-justify'>Danau Malawen.</p>`
      },
      {
        koordinat: [-1.656995, 114.926560],
        title: "Lewu Betang Nansarunai",
        popup: `
          <h3>Lewu Betang Nansarunai</h3>
          <img src='./foto/Betang.jpeg' style='width:150px'>
          <p class='popup-justify'>
          Betang Nan Sarunai adalah destinasi wisata budaya sejak 2018 untuk melestarikan budaya Dayak. Pengunjung dapat merasakan suasana rumah adat Betang, berkeliling, menikmati permainan ATV, atau berkemah. Tiket: Rp10.000 dewasa, Rp5.000 anak-anak. Buka: 07.30–17.00 WIB.
          </p>`
      },
      {
        koordinat: [-1.67004, 114.90543],
        title: "Pemandian Banyu Habang",
        popup: `
          <h3>Pemandian Banyu Habang</h3>
          <img src='./foto/Banyu Habang.JPG' style='width:150px'>
          <p class='popup-justify'>Pemandian Banyu Habang.</p>`
      },
      {
        koordinat: [-1.67016, 114.90573],
        title: "Pemandian Wenu Janang",
        popup: `
          <h3>Pemandian Wenu Janang</h3>
          <img src='./foto/Wenu Janang.JPG' style='width:150px'>
          <p class='popup-justify'>
          Wenu Janang berarti "Sungai Wenu yang ramai". Wisata ini mengandalkan keindahan Sungai Wenu. Buka setiap hari pukul 06.00–18.00. Tiket: Rp10.000 dewasa, Rp5.000 anak-anak.
          </p>`
      },
      {
        koordinat: [-1.67084, 114.90593],
        title: "Pemandian Cendana Harum",
        popup: `
          <h3>Pemandian Cendana Harum</h3>
          <img src='./foto/Cendana Harum.JPG' style='width:150px'>
          <p class='popup-justify'>
          Wisata air bernuansa Bali dengan kolam renang, gazebo, dan mushola. Tiket: Rp10.000 dewasa, Rp5.000 anak-anak. Buka: 07.00–18.00.
          </p>`
      },
      {
        koordinat: [-1.67044, 114.90530],
        title: "Pemandian Air Merah Jaya Raya",
        popup: `
          <h3>Pemandian Air Merah Jaya Raya</h3>
          <img src='./foto/Air Merah.JPG' style='width:150px'>
          <p class='popup-justify'>
          Mengandalkan keindahan alami Sungai Wenu dengan ciri khas air merah. Tiket: Rp10.000 dewasa, Rp5.000 anak-anak. Buka: 06.00–18.00.
          </p>`
      },
      {
        koordinat: [-1.65867, 114.92616],
        title: "Mambarak Forest",
        popup: `
          <h3>Mambarak Forest</h3>
          <img src='./foto/Mambarak Forest.JPG' style='width:150px'>
          <p class='popup-justify'>Mambarak Forest.</p>`
      }
    ];

    // Marker Layer
    var markersLayer = new L.LayerGroup();
    map.addLayer(markersLayer);

    lokasi.forEach(function(tempat) {
      var marker = L.marker(tempat.koordinat, { title: tempat.title })
        .bindPopup(tempat.popup);
      markersLayer.addLayer(marker);
    });

    // Leaflet Search
    var searchControl = new L.Control.Search({
      layer: markersLayer,
      propertyName: 'title',
      marker: false,
      moveToLocation: function(latlng, title, map) {
        map.setView(latlng, 17);
      }
    });

    searchControl.on('search:locationfound', function(e) {
      e.layer.openPopup();
    });

    map.addControl(searchControl);
  </script>

</body>
</html>
