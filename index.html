<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tempat Wisata Desa Sanggu</title>

  <!-- Leaflet CSS & JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Leaflet Search Plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-search/dist/leaflet-search.min.css" />
  <script src="https://unpkg.com/leaflet-control-search/dist/leaflet-search.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    header {
      background-color: #e5c39d;
      text-align: center;
      padding: 20px 10px;
      font-size: 24px;
      font-weight: bold;
      border-bottom: 2px solid #000;
    }

    #map {
      height: 92vh;
      width: 100%;
    }

    .popup-justify {
      text-align: justify;
    }

    .leaflet-control-search {
      margin-top: 80px !important;
      z-index: 1000;
    }
  </style>
</head>
<body>

  <header>Tempat Wisata Desa Sanggu</header>
  <div id="map"></div>

  <script>
    // Basemaps
    var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    });

    var esriSat = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri'
    });

    var esriTopo = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri'
    });

    // Inisialisasi peta
    var map = L.map('map', {
      center: [-1.67044, 114.90530],
      zoom: 13,
      layers: [osm]
    });

    // Layer kontrol basemap
    var baseMaps = {
      "OpenStreetMap": osm,
      "Esri Satelit": esriSat,
      "Esri Topographic": esriTopo
    };

    L.control.layers(baseMaps).addTo(map);

    // Data lokasi
    var lokasi = [
      {
        koordinat: [-1.67044, 114.90530],
        title: "Pemandian Air Merah Jaya Raya",
        popup: `
          <h3>Pemandian Air Merah Jaya Raya</h3>
          <img src="./foto/Air Merah.JPG" style="width:150px;">
          <p class="popup-justify">
            Pemandian Air Merah Jaya Raya, yang mulai beroperasi sejak tahun 2022, menawarkan pengalaman wisata alam dengan harga tiket masuk sebesar Rp10.000 untuk orang dewasa dan Rp5.000 untuk anak-anak. Destinasi ini merupakan kawasan pemandian yang mengandalkan keindahan alami Sungai Wenu sebagai daya tarik utama, dengan ciri khas air berwarna merah. Pengunjung dapat menikmati berbagai aktivitas, seperti berenang, bermain air, atau sekadar bersantai bersama keluarga dan teman-teman sambil meresapi keasrian alam sekitar. Tempat ini terbuka untuk umum setiap hari dari pukul 06.00 hingga 18.00.
          </p>`
      },
      {
        koordinat: [-1.6679, 114.9077],
        title: "Danau Sanggu",
        popup: `
          <h3>Danau Sanggu</h3>
          <img src="./foto/Danau Sanggu.JPG" style="width:150px;">
          <p class="popup-justify">
            Danau Sanggu merupakan salah satu ikon alam di Desa Sanggu yang dikenal akan keindahan alamnya dan keanekaragaman hayatinya. Pengunjung dapat menikmati keindahan danau sambil berjalan santai di sekitar area atau memancing.
          </p>`
      },
      {
        koordinat: [-1.6745, 114.9155],
        title: "Danau Malowen",
        popup: `
          <h3>Danau Malowen</h3>
          <img src="./foto/Danau Malowen.JPG" style="width:150px;">
          <p class="popup-justify">
            Danau Malowen adalah danau yang terletak di bagian selatan Desa Sanggu. Tempat ini menawarkan suasana tenang yang cocok untuk beristirahat dari hiruk-pikuk aktivitas sehari-hari.
          </p>`
      },
      {
        koordinat: [-1.6712, 114.8993],
        title: "Pemandian Wenu Janang",
        popup: `
          <h3>Pemandian Wenu Janang</h3>
          <img src="./foto/Wenu Janang.JPG" style="width:150px;">
          <p class="popup-justify">
            Pemandian alami yang masih mempertahankan sumber air dari Sungai Wenu. Airnya yang jernih dan segar membuat tempat ini menjadi destinasi favorit masyarakat lokal.
          </p>`
      }
    ];

    // Simpan semua marker ke layer group
    var markersLayer = new L.LayerGroup();
    map.addLayer(markersLayer);

    // Tambahkan marker
    lokasi.forEach(function(tempat) {
      var marker = L.marker(tempat.koordinat, { title: tempat.title })
        .bindPopup(tempat.popup);
      markersLayer.addLayer(marker);
    });

    // Tambahkan kontrol pencarian
    var searchControl = new L.Control.Search({
      layer: markersLayer,
      propertyName: 'title',
      marker: false,
      moveToLocation: function(latlng, title, map) {
        map.setView(latlng, 17);
      }
    });

    searchControl.on('search:locationfound', function(e) {
      e.layer.openPopup();
    });

    map.addControl(searchControl);
  </script>

</body>
</html>
